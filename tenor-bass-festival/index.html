<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Tenor–Bass Festival • Volunteers | Rowan ACDA</title>

  <!-- Font & Icons -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <!-- Site-wide base CSS (if you have one, keep this) -->
  <!-- <link rel="stylesheet" href="/assets/css/site.css"> -->

  <!-- Page CSS -->
  <link rel="stylesheet" href="/assets/css/tb.css">
</head>
<body class="body">
  <!-- ===== Site Shell (match your other pages) ===== -->
  <header class="site-header">
    <div class="container header-inner">
      <a class="brand" href="/">Rowan ACDA</a>
      <nav class="nav">
        <a href="/events/">Events</a>
        <a class="active" href="/tenor-bass-festival/">Tenor–Bass Festival</a>
        <a href="/about/">About</a>
        <a href="/contact/">Contact</a>
      </nav>
    </div>
  </header>

  <main class="container main">
    <h1 class="page-title">Tenor–Bass Festival • Volunteer Sign-Ups</h1>
    <p class="lead">
      Claim an open slot below. When a slot is taken, the name appears in the grid. All sign-ups are saved instantly.
    </p>

    <div class="toolbar">
      <button id="refresh" class="btn">Refresh</button>
      <a id="csv" class="btn btn-ghost" href="/.netlify/functions/slots-tb?csv=1">Download CSV</a>
    </div>

    <!-- Slots grid -->
    <section id="slots" class="slots-grid" aria-live="polite">
      <!-- JS populates roles/slots here -->
    </section>

    <!-- Sign-up dialog -->
    <dialog id="signupDialog" class="dialog">
      <form id="signupForm" method="dialog">
        <h2 id="dialogTitle">Claim Slot</h2>
        <p class="muted">You’re claiming: <span id="slotKeyLabel" class="chip"></span>, slot <span id="slotIdxLabel" class="chip"></span></p>
        <div class="field-row">
          <label>First name<input name="first" required autocomplete="given-name"></label>
          <label>Last name<input name="last" required autocomplete="family-name"></label>
        </div>
        <label>Email<input name="email" type="email" required autocomplete="email"></label>
        <input type="hidden" name="key">
        <input type="hidden" name="slot">
        <div class="dialog-actions">
          <button type="submit" class="btn">Sign Up</button>
          <button type="button" class="btn btn-ghost" data-close>Cancel</button>
        </div>
      </form>
    </dialog>

    <!-- Toasts -->
    <div id="toasts" class="toasts" role="status" aria-live="polite"></div>
  </main>

  <footer class="site-footer">
    <div class="container footer-inner">
      <span>© Rowan ACDA</span>
      <a href="/privacy/">Privacy</a>
      <a href="/conduct/">Code of Conduct</a>
    </div>
  </footer>

  <script type="module" src="/assets/js/tb.js"></script>
</body>
</html>
